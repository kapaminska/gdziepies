---
import { HeroButtons } from "@/components/HeroButtons";
import { getSupabaseConfig } from "@/lib/supabase-config";

// Get user session for initial state
const {
  data: { user },
} = await Astro.locals.supabase.auth.getUser();

const { url: supabaseUrl, key: supabaseKey } = getSupabaseConfig();
---

<header class="w-full py-12 md:py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-b from-background to-muted/20">
  <div class="max-w-4xl mx-auto text-center space-y-6">
    <h1 class="text-4xl sm:text-5xl md:text-6xl font-bold text-foreground leading-tight">
      Pomagamy odnaleźć zaginione zwierzęta
    </h1>
    <p class="text-lg sm:text-xl text-muted-foreground max-w-2xl mx-auto leading-relaxed">
      Jeśli zgubiłeś swojego pupila lub znalazłeś zwierzę, które potrzebuje pomocy, 
      jesteśmy tutaj, aby pomóc w połączeniu właścicieli z ich ukochanymi zwierzętami.
    </p>
    <script define:vars={{ supabaseUrl, supabaseKey }}>
      // Inject Supabase config into window for client-side access
      window.__SUPABASE_URL__ = supabaseUrl;
      window.__SUPABASE_KEY__ = supabaseKey;
    </script>
    <HeroButtons
      supabaseUrl={supabaseUrl}
      supabaseKey={supabaseKey}
      initialUser={user}
      client:load
    />
  </div>
</header>
